{% extends "network/layout.html" %}

{% block body %}
    <h2 class="text-primary my-3">{{ page_user.username }}</h2>
    <p class="text-secondary">Followed by {{ page_user.followers.count }} users</p>
    <p class="text-secondary">Following {{ page_user.followed_users.count }} users</p>
    {% for post in posts %}
        <div class="post">
            <span class="post-info">Posted by {{ post.user }} at {{ post.creation_date }}</span>
            <p class="post-content">{{ post.content }}</p>
            <span class="post-likes">{{ post.post_likes.count }} likes</span>
        </div>
    {% endfor %}

    {% if request.user != page_user %}
        {% if followed %}
            <form action="{% url 'unfollow' page_user.id %}">
                <button class="btn btn-danger mt-2">Unfollow</button>
            </form>
        {% else %}
            <form action="{% url 'follow' page_user.id %}">
                <button class="btn btn-primary mt-2">Follow</button>
            </form>
        {% endif %}
    {% endif %}
{% endblock %}